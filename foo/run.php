<?php

// 24
$loc = [
'51.400169524412874,-3.526139259338379', //0
'51.397840135066595,-3.5352802276611324', // 1
'51.399580494634804,-3.5480690002441406', // 2
'51.401856249541126,-3.5571670532226562', // 3
'51.40560430489943,-3.5586690902709956', // 4
'51.40905759827663,-3.554549217224121', // 5
'51.40975357931684,-3.549056053161621', // 6
'51.408227760882845,-3.5449790954589844',// 7
'51.40520274223228,-3.543691635131836',// 8
'51.40474763361336,-3.539571762084961',// 9
'51.40407834800477,-3.5359668731689453',// 10
'51.40220429619045,-3.533821105957031',// 11
'51.40324842024661,-3.52785587310791',// 12
'51.40148142711052,-3.524465560913086',// 13
'51.399366300107495,-3.5173845291137695',// 14
'51.39816143720163,-3.510775566101074',// 15
'51.39880403470099,-3.5077714920043945',// 16
'51.40193656823376,-3.5062265396118164',// 17
'51.40290038154318,-3.5026216506958003',// 18
'51.40539013858244,-3.493480682373047',// 19
'51.40694282165636,-3.488030433654785',// 20
'51.40421220591007,-3.4873437881469727',// 21
'51.40257911269685,-3.4870433807373042',// 22
'51.398375637371146,-3.4991025924682617'// 23
];

$file = file_get_contents('data.json');

$json = json_decode($file,true);

$arr = [];

foreach($json['collection_items'] as $e => $a) {

  $arrLoc = explode(',', $loc[$e]);

  $arr['title'][] = [
    'id' => $e,
    'title' => $a['title']['en'],
    'lat' => $arrLoc[0],
    'lng' => $arrLoc[1]

  ];
}

foreach($json['trail_path'] as $v) {
  $arr['location'][] = [$v['lat'],$v['lon']];
  // echo '<pre>' , print_r($v) , '</pre>';
}


echo json_encode($arr,JSON_PRETTY_PRINT);

 // echo '<pre>', print_R($arr) , '</pre>';